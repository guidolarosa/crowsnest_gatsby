(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"/6kg":function(e,t,a){},"1LH5":function(e,t,a){},L0dD:function(e,t,a){},LOWe:function(e,t,a){},N5TG:function(e,t,a){},P8yH:function(e,t,a){},QOqB:function(e,t,a){"use strict";a.r(t);a("HAE/"),a("WLL4"),a("jm62"),a("8+KV"),a("0l/t"),a("ioFf"),a("rGqo"),a("yt8O"),a("RW0V"),a("a1Th"),a("h7Nl"),a("I5cv"),a("V+eJ"),a("f3/d"),a("VRzm"),a("Btvt"),a("2Spj");var n,o=a("o0o1"),r=a.n(o),s=(a("ls82"),a("yXPU")),i=a.n(s),c=a("lwsE"),l=a.n(c),u=a("W8MJ"),d=a.n(u),m=a("PJYZ"),p=a.n(m),b=a("7W2i"),h=a.n(b),f=a("a1gu"),E=a.n(f),g=a("Nsbk"),T=a.n(g),v=a("lSNA"),_=a.n(v),I=a("cDcd"),y=a.n(I),k=a("9kay"),D=a("/MKj"),O=a("eHHv"),S=a("+QRC"),w=a.n(S),P=a("Y+p1"),R=a.n(P),C=a("Wwog"),j=a("TSYQ"),N=a.n(j),x=a("EfbJ"),q=a("eOGF"),L=a("MrcO"),A=a("JoEb"),F=a("QfwD"),U=a("Pg3g"),B=a("214P"),M=a("sSFG"),z=a("bSd7"),G=a("EOcb"),K=a("Uw1d"),H=a("7fp8"),Q=a("bqtk"),J=a("6454"),W=a("s65C"),V=a("EY3D"),Y=(a("bWfx"),a("OEX3")),X=a("H59Z");a("SKv6");function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=T()(e);if(t){var o=T()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return E()(this,a)}}var $=(n={},_()(n,G.s.TAB_TEST_OUTPUT,{i18nKey:"test_results",handler:"handleTestResultTab"}),_()(n,G.s.TAB_TEST_HELP,{i18nKey:"rba.help",handler:"handleTestHelpTab"}),n),ee=function(e){h()(a,e);var t=Z(a);function a(e){var n;return l()(this,a),n=t.call(this,e),_()(p()(n),"handleTestResultTab",void 0),_()(p()(n),"handleTestHelpTab",void 0),_()(p()(n),"handleSwitchOnlineIDE",void 0),_()(p()(n),"handleSwitchToLocalIDE",void 0),_()(p()(n),"handleTabChange",(function(e){(0,n.props.onTabChange)(e)})),n.state={runTestTooltip:""},n.handleTestResultTab=n.handleTabChange.bind(p()(n),G.s.TAB_TEST_OUTPUT),n.handleTestHelpTab=n.handleTabChange.bind(p()(n),G.s.TAB_TEST_HELP),n.handleSwitchOnlineIDE=n.handleTabChange.bind(p()(n),G.s.BUTTON_SWITCH_ONLINE_IDE),n.handleSwitchToLocalIDE=n.handleTabChange.bind(p()(n),G.s.BUTTON_SWITCH_OFFLINE_IDE),n}return d()(a,[{key:"componentDidMount",value:function(){var e=this.props.t;this.setState({runTestTooltip:Object(X.b)()?e("keys.mac.run_code"):e("keys.others.run_code")})}},{key:"renderTabItem",value:function(e){var t=this.props,a=t.activeTab,n=t.t,o=$[e],r=o.i18nKey,s=o.handler,i=a===e,c=G.t[e];return y.a.createElement("li",{"data-automation":e,key:e,className:N()("d-flex justify-content-center align-items-center rba-question-footer__tab-item ".concat(c),{active:i}),onClick:this[s],role:"tab","aria-selected":i,onKeyDown:this[s]},n(r))}},{key:"renderTabs",value:function(){var e=this,t=this.props.showRunTest,a=G.s.TAB_TEST_OUTPUT,n=G.s.TAB_TEST_HELP,o=t?[a,n]:[n];return y.a.createElement("ul",{className:"d-flex rba-question-footer__tab-header",role:"tablist"},o.map((function(t){return e.renderTabItem(t)})))}},{key:"render",value:function(){var e=this.props,t=e.disableSubmitCode,a=e.disableRunCode,n=e.onSubmitCode,o=e.onRunCode,r=e.submitButtonText,s=e.isProcessing,i=e.showRunTest,c=e.isFrontendIDE,l=e.t,u=this.state.runTestTooltip;return y.a.createElement("div",{className:"d-flex rba-question-footer"},!c&&y.a.createElement("div",{className:"rba-question-footer__tab-wrapper"},this.renderTabs()),y.a.createElement("div",{className:N()("d-flex justify-content-end",{"frontend-ide_btn-group":c})},i&&y.a.createElement(Y.c,{loading:s,onClick:o,disabled:a,className:"rba-question-footer__run-code","aria-label":u,"data-balloon-pos":"up"},l("actions.run_tests")),y.a.createElement(Y.c,{className:"rba-question-footer__submit-code",onClick:n,disabled:t},r)))}}]),a}(I.PureComponent);_()(ee,"defaultProps",{disableRunCode:!1,showRunTest:!0,isProcessing:!1,disableSubmitCode:!1,activeTab:G.s.TAB_NONE});var te=ee,ae=a("pVnL"),ne=a.n(ae),oe=a("iiin"),re=a("z5MK"),se=a("bIS8"),ie=a("AGYi"),ce=a("kV2S"),le=function(e){var t=e.cheUrl,a=e.isJupyterIDE;return t?y.a.createElement("iframe",{title:"RBA Question",src:t,className:N()("rba-ide",{jupyter:a}),width:"100%"}):null},ue=(a("LK8F"),a("CX2u"),a("E+oP")),de=a.n(ue),me=a("yteq"),pe=a("f0wr");a("L0dD");function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=T()(e);if(t){var o=T()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return E()(this,a)}}var he=function(e){h()(a,e);var t=be(a);function a(){var e;l()(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o)),_()(p()(e),"state",{commits:[]}),_()(p()(e),"gitCommitPoll",void 0),_()(p()(e),"pollTimer",0),_()(p()(e),"toastElement",null),_()(p()(e),"showToast",(function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"basic";e.toastElement?e.toastElement.update({type:a,message:t}):(e.toastElement=new pe.a({icon:"ui-icon-github",type:a,message:t}),e.toastElement.show())})),_()(p()(e),"startGitPolling",(function(){var t=e.props,a=t.gitUrl,n=t.t;e.gitCommitPoll=Object(Q.b)(a),e.gitCommitPoll.then((function(t){de()(t)||e.updateGitCommits(t)})).catch((function(t){e.showToast(t.message||n("rba.git.log_fetch_error"),"error")})).finally((function(){e.pollTimer=setTimeout(e.startGitPolling,1e4)}))})),_()(p()(e),"renderCommitItem",(function(t){var a=t.id,n=t.author,o=t.date,r=t.message,s=e.props.t;return y.a.createElement("div",{className:"rba-git-log__commit",key:a},y.a.createElement("p",{className:"rba-git-log__commit__id"},y.a.createElement("span",{className:"label"}," ",s("rba.git.commit"))," ",a),y.a.createElement("p",{className:"rba-git-log__commit__author"},y.a.createElement("span",{className:"label"},s("rba.git.author"),":")," ",n),y.a.createElement("p",{className:"rba-git-log__commit__date"},y.a.createElement("span",{className:"label"},s("rba.git.date"),":")," ".concat(new Date(o).toString())),y.a.createElement("p",{className:"rba-git-log__commit__message"},r))})),e}return d()(a,[{key:"componentDidMount",value:function(){this.startGitPolling()}},{key:"componentWillUnmount",value:function(){this.pollTimer&&clearTimeout(this.pollTimer),this.gitCommitPoll&&this.gitCommitPoll.abort()}},{key:"updateGitCommits",value:function(e){var t=this.props,a=t.t,n=t.attemptId,o=t.appUtil.params.questionId;this.setState({commits:e});var r=Object(A.i)(n,o),s=e[0].date,i=void 0===s?null:s,c=sessionStorage.getItem(r);i&&c!==i&&(c&&this.showToast(a("rba.git.commit_receive")),sessionStorage.setItem(r,e[0].date))}},{key:"renderEmptyLog",value:function(){return y.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center rba-git-log--empty"},y.a.createElement(se.GitCommitIcon,null),y.a.createElement("p",null,y.a.createElement(k.b,{i18nKey:"rba.git.empty_log"},"Your ",y.a.createElement("span",{className:"accent"},"commits")," will show up here")))}},{key:"renderCommits",value:function(){var e=this;return this.state.commits.map((function(t){return e.renderCommitItem(t)}))}},{key:"render",value:function(){var e=this.state.commits;return y.a.createElement("div",{className:"rba-git-log"},de()(e)?this.renderEmptyLog():this.renderCommits())}}]),a}(I.Component);Object(O.a)(Object(D.connect)((function(e){return{attemptId:e.candidate.attempt.id}})),x.a)(he),a("/6kg");function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=T()(e);if(t){var o=T()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return E()(this,a)}}var Ee=function(e){h()(a,e);var t=fe(a);function a(e){var n;l()(this,a),n=t.call(this,e),_()(p()(n),"handleGitCloneCommandCopy",void 0),_()(p()(n),"gitPollXhr",void 0),_()(p()(n),"pollTimer",void 0),_()(p()(n),"startGitPolling",(function(){var e=n.props,t=e.t,a=e.attemptId,o=e.showToast,r=e.dockerInfo.remoteUrl,s=e.questionData.uniqueId;n.gitPollXhr=Object(Q.b)(r),n.gitPollXhr.then((function(e){if(!de()(e)&&Array.isArray(e)){var r=Object(A.i)(a,s),i=e[0].date,c=void 0===i?null:i,l=sessionStorage.getItem(r);c&&l!==c&&(l&&(o({icon:"ui-icon-github",type:"basic",message:t("rba.git.commit_receive_auto-reload")}),n.reloadGitUxIframe()),sessionStorage.setItem(r,e[0].date))}})).catch((function(e){o({icon:"ui-icon-github",type:"error",message:e.message||t("rba.git.log_fetch_error")})})).finally((function(){n.pollTimer=setTimeout(n.startGitPolling,1e4)}))})),_()(p()(n),"onGitUxIframeLoad",(function(){n.setState({showGitListLoading:!1,viewLastUpdatedAt:n.getDateReadableFormat()})})),_()(p()(n),"reloadGitUxIframe",(function(){var e=n.props.dockerInfo.browseEndpoint;n.setState({showGitListLoading:!0,gitUxUrl:"".concat(e,"/commits/master?_=").concat((new Date).getTime())})}));var o=e.handleCopy,r=e.dockerInfo,s=r.remoteUrl,i=r.browseEndpoint;return n.state={showGitListLoading:!0,viewLastUpdatedAt:void 0,gitUxUrl:"".concat(i,"/commits/master")},n.handleGitCloneCommandCopy=o.bind(p()(n),s),n}return d()(a,[{key:"componentDidMount",value:function(){this.startGitPolling()}},{key:"componentWillUnmount",value:function(){this.pollTimer&&clearTimeout(this.pollTimer),this.gitPollXhr&&this.gitPollXhr.abort()}},{key:"getMonthName",value:function(){var e=new Date;return G.B[e.getMonth()]}},{key:"getDateReadableFormat",value:function(){var e=new Date;return"".concat(e.getDate()," ").concat(this.getMonthName()," ").concat(e.getFullYear(),", ").concat(e.toLocaleTimeString())}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.dockerInfo.remoteUrl,n=this.state,o=n.showGitListLoading,r=n.gitUxUrl,s=n.viewLastUpdatedAt;return y.a.createElement("section",{className:"git-ux"},y.a.createElement("div",{className:"d-flex flex-column git-ux__clone-instructions"},y.a.createElement("div",{className:"d-flex flex-column git-ux__clone-instructions-step1"},y.a.createElement("h4",{className:"git-ux__clone-instructions-step1-heading"},t("rba.gitux.step1_heading")),y.a.createElement("div",{className:"d-flex git-ux__clone-instructions-step1-content"},y.a.createElement(me.a,{disabled:!0,actionButtonProps:{"data-automation":"command-copy-btn"},value:a,placeholder:a,actionContent:t("click_to_copy",{message:"Git URL"}),onAction:this.handleGitCloneCommandCopy}))),y.a.createElement("div",{className:"d-flex justify-content-between align-items-center flex-wrap git-ux__clone-instructions-step2"},y.a.createElement("h4",{className:"git-ux__clone-instructions-step2-heading"},t("rba.gitux.step2_heading")),s&&y.a.createElement("p",{className:"d-flex align-items-center git-ux__clone-instructions-step2-refresh-status"},t("rba.gitux.last_updated",{date:s}),y.a.createElement(Y.b,{Icon:se.ResendIcon,disabled:o,iconAlignment:"left",onClick:this.reloadGitUxIframe,className:"git-ux__clone-instructions-step2-refresh-status-link"}," ",t("rba.gitux.refresh_view"))))),o&&y.a.createElement("div",{className:"git-ux__loader d-flex justify-content-center align-items-center"},t("rba.git.gitlist_loading")),y.a.createElement("iframe",{onLoad:this.onGitUxIframeLoad,title:"Project Question Git View",src:r,className:"rba-git-ux",width:"100%"}))}}]),a}(I.PureComponent),ge=a("O766"),Te=(a("1LH5"),function(e){var t=e.open,a=e.onClose,n=e.onReset,o=e.t;return y.a.createElement(ge.a,{open:t,theme:"theme-m",title:o("rba.reset_project"),onClose:a},y.a.createElement("p",null,o("rba.reset_project_text_main")),y.a.createElement("div",{className:"reset-dialog__buttons"},y.a.createElement(Y.e,{onClick:a},o("actions.cancel")),y.a.createElement(Y.c,{onClick:n},o("rba.reset"))))}),ve=function(e){var t=e.open,a=e.onClose,n=e.onReboot,o=e.t;return y.a.createElement(ge.a,{open:t,theme:"theme-m",title:o("rba.reboot_ide"),onClose:a},y.a.createElement("p",null,o("rba.reboot_text_main")),y.a.createElement("p",null,y.a.createElement("b",null,o("rba.reboot_text_sub"))),y.a.createElement("br",null),y.a.createElement("div",{className:"reset-dialog__buttons"},y.a.createElement(Y.e,{onClick:a},o("actions.cancel")),y.a.createElement(Y.a,{onClick:n},o("rba.reboot"))))};a("N5TG");function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=T()(e);if(t){var o=T()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return E()(this,a)}}var Ie=function(e){h()(a,e);var t=_e(a);function a(e){var n;return l()(this,a),n=t.call(this,e),_()(p()(n),"closeRebootIDEDialog",void 0),_()(p()(n),"closeResetProjectDialog",void 0),_()(p()(n),"toast",null),_()(p()(n),"openWebIDE",(function(){var e=n.props,t=e.attemptId,a=e.questionData.uniqueId;n.onSelectMode(G.u.ONLINE),sessionStorage.setItem(Object(A.b)(t,a),"false"),n.setState({showAlternateIDELinkOnline:!1})})),_()(p()(n),"openGitInstruction",(function(){var e=n.props,t=e.attemptId,a=e.questionData.uniqueId;n.onSelectMode(G.u.OFFLINE),sessionStorage.setItem(Object(A.a)(t,a),"false"),n.setState({showAlternateIDELinkOffline:!1})})),_()(p()(n),"onTabClick",(function(e){var t=n.computeTabsToShow()[e];if(t){var a=n.props.selectedMode;t.tabKey===a||n.onSelectMode(t.tabKey)}})),_()(p()(n),"renderItem",(function(e){var t=n.props.t;return y.a.createElement("div",{"data-automation":e.tabKey},y.a.createElement(e.iconComponent,null),y.a.createElement("span",{className:"tab-item__title"}," ".concat(t(e.title))))})),_()(p()(n),"tabItemProps",(function(e){return{className:"".concat(e.tabKey)}})),n.state={showAlternateIDELinkOnline:!0,showAlternateIDELinkOffline:!0},n.closeRebootIDEDialog=n.closeDialogs.bind(p()(n),G.o.REBOOT_IDE),n.closeResetProjectDialog=n.closeDialogs.bind(p()(n),G.o.RESET_PROJECT),n}return d()(a,[{key:"componentDidMount",value:function(){this.setState({showAlternateIDELinkOnline:this.computeShowAlternateIDELinkOnline(),showAlternateIDELinkOffline:this.computeShowAlternateIDELinkOffline()}),this.candidatePreference=this.computeCandidateIDEPreference()}},{key:"computeCandidateIDEPreference",value:function(){var e=this.props,t=e.attemptId,a=e.questionData.uniqueId,n=e.selectedMode;return sessionStorage.getItem(Object(A.c)(t,a))||sessionStorage.setItem(Object(A.c)(t,a),n),sessionStorage.getItem(Object(A.c)(t,a))}},{key:"computeShowAlternateIDELinkOnline",value:function(){var e=this.props,t=e.attemptId,a=e.questionData,n=a.uniqueId,o=a.roleType,r=e.selectedMode,s=e.disableGit;return Object(U.l)(r)?(sessionStorage.setItem(Object(A.b)(t,n),"false"),!1):!Object(U.n)(s,o)&&null===sessionStorage.getItem(Object(A.b)(t,n))}},{key:"computeShowAlternateIDELinkOffline",value:function(){var e=this.props,t=e.attemptId,a=e.questionData,n=a.uniqueId,o=a.roleType,r=e.selectedMode,s=e.disableOnlineIDE;return Object(U.k)(r)?(sessionStorage.setItem(Object(A.a)(t,n),"false"),!1):!Object(U.o)(s,o)&&null===sessionStorage.getItem(Object(A.a)(t,n))}},{key:"closeDialogs",value:function(e){(0,this.props.toggleDialog)(e,!1)}},{key:"onSelectMode",value:function(e){var t=this.props,a=t.attemptId,n=t.dockerInfo.dockerId,o=t.handleChoiceToggle;a&&n&&o(e)}},{key:"renderResetProjectDialog",value:function(){var e=this.props,t=e.t,a=e.onProjectReset;return y.a.createElement(Te,{t:t,open:!0,onClose:this.closeResetProjectDialog,onReset:a})}},{key:"renderRebootIDEDialog",value:function(){var e=this.props,t=e.t,a=e.onRebootIDE;return y.a.createElement(ve,{t:t,open:!0,onClose:this.closeRebootIDEDialog,onReboot:a})}},{key:"renderTabContent",value:function(e){var t=this.props,a=t.t,n=t.handleCopy,o=t.questionData,r=t.dockerInfo,s=t.attemptId,i=t.showToast,c=t.disableGit,l=r.cheUrl,u=o.roleType,d=Object(U.j)(u),m=this.candidatePreference===G.u.ONLINE?G.w:G.v;return Object(U.n)(c,u)||e===m[G.u.ONLINE]?y.a.createElement(le,{cheUrl:l,isJupyterIDE:d}):y.a.createElement(Ee,{attemptId:s,dockerInfo:r,handleCopy:n,questionData:o,t:a,showToast:i})}},{key:"computeTabsToShow",value:function(){var e=this.state,t=e.showAlternateIDELinkOnline,a=e.showAlternateIDELinkOffline,n=this.props,o=n.questionData,r=n.disableOnlineIDE,s=n.disableGit,i=o.roleType,c=G.x;return Object(U.n)(s,i)||a?c.slice(1):Object(U.o)(r,i)||t?c.slice(0,1):this.candidatePreference===G.u.ONLINE?c.slice().reverse():c}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.isLoading,n=e.questionData,o=e.selectedMode,r=e.showRebootIDEDialog,s=e.showResetProjectDialog,i=e.dockerInfo.backend,c=e.onTourStart,l=e.disableOnlineIDE,u=e.disableGit,d=this.state,m=d.showAlternateIDELinkOnline,p=d.showAlternateIDELinkOffline,b=n.roleType,h=Object(U.j)(b),f=this.candidatePreference===G.u.ONLINE?G.w:G.v,E=h?0:f[o],g=this.computeTabsToShow(),T=Object(U.l)(o)||h,v=Object(U.i)(i)&&!h,_=!l&&m,k=!u&&p;return y.a.createElement(I.Fragment,null,!a&&y.a.createElement("section",{className:"rba-question__git-ux"},r&&this.renderRebootIDEDialog(),s&&this.renderResetProjectDialog(),y.a.createElement("div",{className:"d-flex align-items-center rba-question__git-ux__right-toolbar"},_&&y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"rba-question__git-ux__use-ide"},y.a.createElement("button",{className:"rba-question__git-ux__use-ide-btn",onClick:this.openWebIDE},t("rba.gitux.alternative_link_online"))),y.a.createElement("span",{className:"rba-question__git-ux__right-toolbar-separator"},"|")),k&&y.a.createElement("div",{className:"rba-question__git-ux__use-ide"},y.a.createElement("button",{className:"rba-question__git-ux__use-ide-btn",onClick:this.openGitInstruction},t("rba.gitux.alternative_link_offline"))),!T&&y.a.createElement(oe.a,ne()({className:"toolbar-custom-items__tour",onClick:c,Icon:se.HelpIcon,tooltip:!0,"data-balloon-pos":"down","aria-label":t("actions.instructions_and_tour.start_tour")},Object(ie.a)({category:ce.b.RBAQuestionPage,action:ce.a.Click,label:ce.c.StartTour})))),y.a.createElement(re.b,{className:N()("rba-question__git-ux__tab-wrapper",{theia:v}),activeTab:E,onTabClick:this.onTabClick},y.a.createElement(re.b.List,{tabList:g,renderItem:this.renderItem,tabItemProps:this.tabItemProps}),y.a.createElement(re.b.Content,null,this.renderTabContent(E)))))}}]),a}(I.Component);a("on/h");var ye=Object(k.c)(["questionview"])((function(e){var t=e.isProcessing,a=e.runTestFailedOutput,n=e.testOutput,o=e.commandObject,r=e.t,s=y.a.createRef();return y.a.useEffect((function(){s&&s.current&&s.current.scrollIntoView({block:"end",behavior:"smooth"})}),[n]),!t&&!o&&de()(n)&&!a?y.a.createElement("div",{className:"rba-test-case-layout__container"},y.a.createElement("h3",null,r("rba.run_test_output_placeholder"))):y.a.createElement("div",{className:"rba-test-case-layout__container"},t&&y.a.createElement("p",null,y.a.createElement("b",null,r("rba.running_tests"))),a&&function(e,t){var a=t.command,n=t.stderr;return y.a.createElement("div",{className:"rba-test-case-layout__error"},y.a.createElement("div",{className:"rba-test-case-layout__error__heading"},y.a.createElement("i",{className:"ui-icon-alert-triangle"})," ",e("rba.test_layout.test_failed")),y.a.createElement("div",{className:"rba-test-case-layout__error__reason"},y.a.createElement("b",null,e("rba.test_layout.reason_heading"),":"),y.a.createElement("p",{className:"subheading"},e("rba.test_layout.reason_subheading"))),y.a.createElement("div",{className:"rba-test-case-layout__error__command_output"},a&&y.a.createElement("div",{className:"command"},e("rba.test_layout.command"),":",y.a.createElement("span",null,a),e("rba.test_layout.failed")),y.a.createElement("br",null),y.a.createElement("div",{className:"stderr"},n)))}(r,a),o&&o.commandLine&&y.a.createElement("div",{className:"rba-test-case-layout__command"},y.a.createElement("b",null,r("rba.test_layout.command"),": "),y.a.createElement("span",{className:"command-line"},o.commandLine)),!de()(n)&&y.a.createElement("div",{className:"rba-test-case-layout__logs",ref:s},y.a.createElement("pre",{className:"output"},function(e){return e.map((function(e){var t=e.text,a=e.kind,n=e.time;if(!t)return null;var o=Object(q.r)(t,1e3,1e3);return y.a.createElement("p",{key:n,className:N()("log",{error:a})},o)}))}(n))))})),ke=a("61np");function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=T()(e);if(t){var o=T()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return E()(this,a)}}var Oe=function(e){h()(a,e);var t=De(a);function a(){return l()(this,a),t.apply(this,arguments)}return d()(a,[{key:"renderCopyButton",value:function(e){var t=this,a=this.props,n=a.t,o=a.handleCopy,r=Object(C.a)((function(e){return o.bind(t,e)}));return y.a.createElement(Y.b,{className:"projects-git-instructions__commands-item-copy-btn",onClick:r(e)},n("actions.copy"))}},{key:"renderCommandItem",value:function(e,t){return y.a.createElement("div",{className:"d-flex flex-column projects-git-instructions__commands-item",key:e,"data-automation":"project-command-".concat(e)},y.a.createElement("p",{className:"projects-git-instructions__commands-item-label"},e," ",this.renderCopyButton(t)),y.a.createElement("p",{className:"projects-git-instructions__commands-item-command-text"},t))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.dockerInfo;if(t.disableGit)return null;var o=Object(U.e)(n);return de()(o)?null:y.a.createElement("section",{className:"projects-git-instructions"},y.a.createElement("h3",{className:"projects-git-instructions__heading"},a("rba.git.instructions")),y.a.createElement("p",{className:"projects-git-instructions__subheading"},a("rba.commands_text")),y.a.createElement("div",{className:"projects-git-instructions__commands"},o.map((function(t){var a=t.label,n=t.command;return e.renderCommandItem(a,n)}))))}}]),a}(I.PureComponent);a("RNzS");function Se(e,t){var a=t.username,n=t.t,o=y.a.useCallback((function(){w()(a),new pe.a({message:n("rba.copied_to_clipboard")}).show()}),[]);return y.a.createElement("p",{className:"rba-footer-help__credential__item"},n("rba.footer.".concat(e)),": ",a,y.a.createElement(ke.a,{content:n("rba.footer.click_copy")},y.a.createElement("span",null,y.a.createElement(se.CopyFileIcon,{onClick:o,"data-automation":"credential-".concat(e,"-copy")}))))}function we(e,t){return y.a.createElement("section",{className:"rba-footer-help__reset-project"},y.a.createElement("h4",{className:"rba-footer-help__reset-project-heading"},e("rba.footer.reset_project_help")),y.a.createElement(Y.c,{onClick:t},e("rba.reset_project")))}var Pe=Object(k.c)(["questionview"])((function(e){var t=e.t,a=e.username,n=e.isJupyterIDE,o=e.showCredentialsSection,r=e.isOnlineMode,s=e.onResetProject,i=e.appUtil,c=e.dockerInfo,l=e.handleCopy;if(!r)return y.a.createElement("div",{className:"rba-footer-help"},y.a.createElement(Oe,{t:t,dockerInfo:c,handleCopy:l}),we(t,s));var u=!n&&!o;return y.a.createElement("div",{className:"rba-footer-help"},o&&function(e){var t=e.t;return y.a.createElement("section",null,y.a.createElement("h4",null,t("rba.footer.credentials_help")),y.a.createElement("div",{className:"rba-footer-help__credential"},Se("username",e),Se("password",e)),y.a.createElement("div",{className:"rba-footer-help__support"},y.a.createElement(k.b,{i18nKey:"rba.footer.support_text"},"If you are facing any other issue, please reach out to us at",y.a.createElement("a",{target:"_blank",href:"mailto:support@hackerrank.com",className:"rba-footer-help__support__link"},"support@hackerrank.com"))))}({t:t,username:a}),u&&function(e){var t=e.t,a=e.appUtil.assetPath;return y.a.createElement(I.Fragment,null,y.a.createElement("section",{className:"rba-footer-help__menu-help"},y.a.createElement("h4",{className:"rba-footer-help__menu-help-heading"},t("rba.footer.menu_heading")),y.a.createElement("p",null,y.a.createElement(k.b,{i18nKey:"rba.footer.menu_help"},y.a.createElement("p",null,"You can open the ",y.a.createElement("b",null,"Run ►")," menu and click on ",y.a.createElement("b",null,"Install"),", ",y.a.createElement("b",null,"Run")," and",y.a.createElement("b",null,"Test")," to install dependencies, run the application and run tests cases respectively."),y.a.createElement("p",null,"Additionally, you can use the ",y.a.createElement("b",null,"Open Preview")," to open the preview pane for projects that have a webserver"),y.a.createElement("p",null,"Note: The menu items can vary depending upon the question."))),y.a.createElement("p",null,y.a.createElement("video",{autoPlay:!0,loop:!0},y.a.createElement("source",{src:a("rba_instructions/theia_help.mp4"),type:"video/mp4"}))),y.a.createElement("p",null,y.a.createElement(k.b,{i18nKey:"rba.footer.menu_faq"},"For additional help, refer to",y.a.createElement("a",{href:"https://support.hackerrank.com/hc/en-us/articles/360042270194-Front-end-Back-end-Full-stack-Assessments-Frequently-Asked-Questions",target:"_blank"},"frequently asked questions")))))}({t:t,appUtil:i}),we(t,s))}));var Re=function(e){var t=e.isIDEAvailable,a=e.selectedTab,n=e.testCaseProps,o=e.helpTabProps,r=e.errorTabProps,s=e.appUtil,i=t&&a===G.s.TAB_TEST_OUTPUT,c=t&&a===G.s.TAB_TEST_HELP;if(i)return y.a.createElement(ye,n);if(c)return y.a.createElement(Pe,ne()({},o,{appUtil:s}));var l=r.errorTitle,u=r.errorOutput;return a===G.s.TAB_ERROR_OUTPUT?y.a.createElement("section",{className:"rba_error_output"},l&&y.a.createElement("h3",null,l),y.a.createElement("pre",{className:"rba_error_output__stderr"},u)):null},Ce=a("xNbf"),je=a("Bxx2"),Ne=(a("WPSq"),function(e){var t=e.t,a=e.showLoader,n=e.bootFailed,o=e.isIDEAvailable,r=e.isJupyterIDE,s=e.renderBootFailedBlock,i=a||n,c=!o&&!n;return y.a.createElement(I.Fragment,null,i&&y.a.createElement("div",{className:N()("switch-progress","d-flex flex-column align-items-center justify-content-center git-ux",{"ide--not-available":!o},{jupyter:r})},!n&&y.a.createElement(Ce.a,{loadingColor:je.colorTextMediumDark,color:je.colorTextLight}),c&&y.a.createElement("p",null,t("rba.ide_boot_wait_text")),n&&s()))}),xe=a("vmXh"),qe=a.n(xe),Le=a("w13Q");function Ae(){return(Ae=i()(r.a.mark((function e(t,a,n,o){var s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=JSON.parse(localStorage.getItem(G.r))||{},i=s[a],!s||!i||i===n){e.next=8;break}return e.next=6,Object(Q.a)(t,a,i);case 6:s[a]="",localStorage.setItem(G.r,JSON.stringify(s));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:o();case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var Fe=a("HfZf");function Ue(e){var t=e.t,a=e.questionData,n=a.subType,o=a.projectsInstructions;return e.disableGit||Object(U.h)(n)||de()(o)?null:y.a.createElement("section",{className:"projects-instructions"},y.a.createElement("h3",{className:"projects-instructions__heading"},t("rba.software_instructions")),y.a.createElement("div",{className:"projects-instructions__content"},y.a.createElement(Fe.a,{html:o})))}a("KKXr"),a("LOWe");function Be(e){var t=e.remoteUrl,a=e.iframeRef,n=e.subType,o=e.readonlyPaths,r=t.split("/").pop();return y.a.createElement("div",{className:"rba-frontend-ide"},y.a.createElement("iframe",{ref:a,title:"Frontend-IDE",className:"rba-frontend-ide__iframe",src:"".concat(H.b,"/s/").concat(r,"?template=").concat(n,"&readonlyPaths=").concat(o)}))}a("P8yH");function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach((function(t){_()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=T()(e);if(t){var o=T()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return E()(this,a)}}a.d(t,"JUPYTER_RESET_TIMEOUT",(function(){return He})),a.d(t,"FRONTEND_IDE_TIMEOUT",(function(){return Qe})),a.d(t,"RUN_TEST_TIMEOUT",(function(){return Je})),a.d(t,"REBOOT_TIMEOUT",(function(){return We})),a.d(t,"mapStateToProps",(function(){return Ye})),a.d(t,"PureRBAQuestion",(function(){return Ve})),a.d(t,"mapDispatchToProps",(function(){return Xe}));var Ke={switchInProgress:!1,showResizeOverlayView:!1,isIDEAvailable:!1,showLoader:!0,bootFailed:!1,showTour:!1,disableSubmitCode:!1,shouldAutoCollapseIDEPane:!1,disableRunTestLoading:!1,commandObject:null,runTestOutput:[],selectedTab:G.s.TAB_NONE,showRebootIDEDialog:!1,showResetProjectDialog:!1,runTestFailedOutput:null,selectedMode:G.u.NO_CHOICE,errorOutput:null,errorTitle:null},He=15e3,Qe=45e3,Je=1e3,We=2e3;var Ve=function(e){h()(a,e);var t=Ge(a);function a(e){var n;l()(this,a),n=t.call(this,e),_()(p()(n),"dockerInfo",void 0),_()(p()(n),"rebootIDEPollID",void 0),_()(p()(n),"frontendIDESubmitTimeout",void 0),_()(p()(n),"runTestPollID",void 0),_()(p()(n),"toggleResetProjectDialog",void 0),_()(p()(n),"toggleRebootIDEDialog",void 0),_()(p()(n),"questionPaneSplitResize",void 0),_()(p()(n),"testPaneSplitResize",void 0),_()(p()(n),"questionPaneDragStart",void 0),_()(p()(n),"questionPaneDragEnd",void 0),_()(p()(n),"testPaneDragStart",void 0),_()(p()(n),"testPaneDragEnd",void 0),_()(p()(n),"switchToOfflineMode",void 0),_()(p()(n),"switchToOnlineMode",void 0),_()(p()(n),"codesandboxRef",void 0),_()(p()(n),"splitterProps",void 0),_()(p()(n),"memoizedErrorTabProps",Object(C.a)((function(e,t){return{errorOutput:e,errorTitle:t}}))),_()(p()(n),"memoizedHelpTabProps",Object(C.a)((function(e,t,a,o){var r=n.props.questionData.roleType,s=Object(U.j)(r);return{isOnlineMode:e||s,isJupyterIDE:s,showCredentialsSection:t,onResetProject:n.toggleResetProjectDialog,onRebootIDE:n.toggleRebootIDEDialog,username:a,handleCopy:n.handleCopy,dockerInfo:o}}))),_()(p()(n),"memoizedTestTabProps",Object(C.a)((function(e,t,a,n){return{testOutput:e,commandObject:t,runTestFailedOutput:a,isProcessing:n}}))),_()(p()(n),"tourSteps",void 0),_()(p()(n),"handleRunKey",(function(e){e.altKey||(Object(F.b)(e),n.state.disableRunTestLoading||n.runTests())})),_()(p()(n),"afterKeycloakCallback",(function(){n.showSwitchLoader(!1),n.startTourAutomatically()})),_()(p()(n),"handleMessage",(function(e){var t=e.data;if(e.origin===H.b)switch(t.type){case G.b.SUBMIT_SUCCESS:var a=t.payload;n.submitFrontendIDETestResults(a);break;case G.b.ERROR:(0,n.props.showErrorToast)(t.payload.errMsg),n.clearFrontendIDESubmitTimeout(),n.resetFooterButtons()}})),_()(p()(n),"resetFooterButtons",(function(){n.setState({disableRunTestLoading:!1,disableSubmitCode:!1})})),_()(p()(n),"handleChoiceToggle",function(){var e=i()(r.a.mark((function e(t){var a,o,s,i,c,l,u,d,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,o=a.attemptId,s=a.t,i=a.showErrorToast,c=a.getAttemptState,l=Object(U.k)(t),n.setState({errorOutput:null,errorTitle:null,switchInProgress:!0,selectedTab:G.s.TAB_NONE}),n.showSwitchLoader(!0),u=s(l?"rba.toggle_to_offline_failed":"rba.toggle_to_online_failed"),d=l?n.switchToOfflineMode:n.switchToOnlineMode,m=l?G.u.OFFLINE:G.u.ONLINE,e.prev=7,e.next=10,d();case 10:return e.next=12,c(o);case 12:n.setState({selectedMode:m}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),i(u),console.error(e.t0);case 19:return e.prev=19,n.setState({switchInProgress:!1,showLoader:!1}),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[7,15,19,22]])})));return function(t){return e.apply(this,arguments)}}()),_()(p()(n),"changeQuestionLayout",(function(e){n.setState(ze(ze({},e),{},{shouldAutoCollapseIDEPane:!1}))})),_()(p()(n),"postMessageToFrontendIDE",(function(e){var t=n.codesandboxRef.current;t&&t.contentWindow.postMessage({type:e},"*")})),_()(p()(n),"onSplitSizeChange",(function(e,t,a){var o=n.state.questionStatementPaneShrinked;e===G.z.QUESTION&&a!==o&&n.changeQuestionLayout({questionStatementPaneShrinked:a}),e===G.z.TEST&&n.setState({shouldAutoExpandTestCases:!1})})),_()(p()(n),"onQuestionPaneVerticalBarClick",(function(){n.setState({shouldAutoCollapseIDEPane:!0})})),_()(p()(n),"onDragStart",(function(e,t){e!==G.z.QUESTION&&e!==G.z.TEST||t!==W.a&&n.setState({showResizeOverlayView:!0})})),_()(p()(n),"onDragEnd",(function(e){e===G.z.QUESTION?n.changeQuestionLayout({showResizeOverlayView:!1}):e===G.z.TEST&&n.setState({showResizeOverlayView:!1})})),_()(p()(n),"toggleDialog",(function(e,t){n.setState(_()({},e,t||!n.state[e]))})),_()(p()(n),"showSwitchLoader",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({showLoader:e})})),_()(p()(n),"initializeCheAuth",(function(){var e=n.state.dockerInfo,t=e.keycloakUrl,a=e.dockerId,o=e.context,r=e.username,s=e.userCredentials,i=(s=void 0===s?{}:s).accessToken,c=void 0===i?"":i,l=s.refreshToken;!function(e){var t=e.keycloakUrl,a=e.dockerId,n=e.context,o=e.username,r=e.accessToken,s=e.refreshToken,i=e.callback,c=Object(U.b)();Object(Le.b)("".concat(t,"/auth/js/keycloak.js")).then((function(){window.Keycloak&&window.Keycloak({url:"".concat(t,"/auth"),realm:"che",clientId:"che-public"}).init({onLoad:"login-required",checkLoginIframe:!1,flow:"implicit",token:r,refreshToken:s}).success((function(e){if(e){var t={};try{t=JSON.parse(localStorage.getItem(G.r))||{}}catch(e){console.error(e)}t[n]=o,localStorage.setItem(G.r,JSON.stringify(t)),qe.a.set("keycloak_active_user",a,{path:"/"}),qe.a.set("KEYCLOAK_IDENTITY",r,{path:"/auth/realms/che",expires:10,domain:c})}i()})).error((function(e){console.error("Failed to initialize Keycloak.",e),i()}))}))}({keycloakUrl:t,dockerId:a,context:o,username:r,accessToken:c,refreshToken:void 0===l?"":l,callback:n.afterKeycloakCallback})})),_()(p()(n),"onFrontendIDESubmitTimeout",(function(){var e=n.props,t=e.showToast,a=e.t;n.resetFooterButtons(),t({message:a("rba.frontend_ide.submit_timeout"),icon:"ui-icon-time",duration:M.e})})),_()(p()(n),"runTests",i()(r.a.mark((function e(){var t,a,o,s,c,l,u,d,m,p,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.attemptId,o=t.t,s=t.showErrorToast,!n.state.dockerInfo.isFrontendIDE){e.next=7;break}return n.setState({disableRunTestLoading:!0}),n.postMessageToFrontendIDE(G.b.SUBMIT_CODE),n.frontendIDESubmitTimeout=setTimeout(n.onFrontendIDESubmitTimeout,Qe),e.abrupt("return");case 7:c=n.state,l=c.selectedMode,u=c.dockerInfo,d=u.agent,m=u.backend,p=u.uniqueId,b=u.dockerId,n.stopRunTestPoll(),n.setState({runTestOutput:[],commandObject:null,runTestFailedOutput:null,disableRunTestLoading:!0,shouldAutoExpandTestCases:!0,selectedTab:G.s.TAB_TEST_OUTPUT},i()(r.a.mark((function e(){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Q.m)({selectedMode:l,attemptId:a,workspaceUniqueId:p,dockerId:b,backend:m,agentEndpoint:d});case 3:t=e.sent,n.setState({commandObject:t}),n.runTestFinished(t.pid),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),s(o("rba.run_test_failed")),i=null;try{i=JSON.parse(e.t0.message)}catch(e){console.error(e)}n.setState({disableRunTestLoading:!1,runTestFailedOutput:i});case 14:case"end":return e.stop()}}),e,null,[[0,8]])}))));case 10:case"end":return e.stop()}}),e)})))),_()(p()(n),"runTestFinished",function(){var e=i()(r.a.mark((function e(t){var a,o,s,i,c,l,u,d,m,p,b,h,f,E;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,o=a.attemptId,s=a.t,i=a.showErrorToast,c=n.state,l=c.runTestOutput,u=c.dockerInfo,d=u.agent,m=u.backend,p=u.dockerId,b=u.uniqueId,e.prev=2,e.next=5,Object(Q.e)({attemptId:o,workspaceUniqueId:Object(U.i)(m)?b:p,processId:t,backend:m,agentEndpoint:d});case 5:return h=e.sent,f=h.alive,e.next=9,Object(Q.d)({attemptId:o,workspaceUniqueId:Object(U.i)(m)?b:p,processId:t,backend:m,agentEndpoint:d,fromTimestamp:Object(U.d)(l)});case 9:E=e.sent,n.setState({runTestOutput:Object(U.i)(m)?E:Object(U.f)(l,E)}),f?n.runTestPollID=setTimeout((function(){return n.runTestFinished(t)}),Je):(n.setState({disableRunTestLoading:!1}),n.stopRunTestPoll()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),i(s("rba.run_test_logs_failed")),n.setState({disableRunTestLoading:!1});case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()),_()(p()(n),"handleSubmitCode",i()(r.a.mark((function e(){var t,a,o,s,i,c,l,u,d,m,p,b,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.attemptId,o=t.questionData,s=o.uniqueId,i=o.type,c=t.saveAnswer,l=t.t,u=t.showToast,d=n.state.dockerInfo,m=d.uniqueId,p=d.isFrontendIDE,n.setState({disableSubmitCode:!0}),!p){e.next=8;break}return n.postMessageToFrontendIDE(G.b.SUBMIT_CODE),u({message:l("rba.frontend_ide.submitting_code"),icon:"ui-icon-time",duration:0,closable:!1}),n.frontendIDESubmitTimeout=setTimeout(n.onFrontendIDESubmitTimeout,Qe),e.abrupt("return");case 8:return e.prev=8,e.next=11,Object(Q.h)(a,m);case 11:if((b=e.sent).exitCode===G.C){e.next=15;break}return n.setState({errorTitle:l("rba.submit_code_failure"),errorOutput:b.log,shouldAutoExpandTestCases:!0,selectedTab:G.s.TAB_ERROR_OUTPUT,disableSubmitCode:!1}),e.abrupt("return");case 15:return e.next=17,Object(Q.i)(a,m,{commit_message:G.a.SUBMIT_CODE});case 17:(h=e.sent).exitCode!==G.C?n.setState({errorTitle:l("rba.submit_code_failure"),errorOutput:h.log,shouldAutoExpandTestCases:!0,selectedTab:G.s.TAB_ERROR_OUTPUT,disableSubmitCode:!1}):c({qid:s,qtype:i,answer:{status:!0}},n.submitCodeSuccessHandler,n.submitCodeErrorHandler),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),n.submitCodeErrorHandler(e.t0);case 24:case"end":return e.stop()}}),e,null,[[8,21]])})))),_()(p()(n),"submitCodeSuccessHandler",(function(e){var t=n.props,a=t.navigateToPath,o=t.showToast,r=t.t,s=n.state,i=s.dockerInfo.isFrontendIDE,c=s.disableSubmitCode,l=e.error;l?n.submitCodeErrorHandler(l):(i&&(c&&o({type:"success_strong",message:r("rba.frontend_ide.submit_success"),icon:"ui-icon-check",duration:M.e}),n.setState({disableRunTestLoading:!1}),n.clearFrontendIDESubmitTimeout()),c&&a())})),_()(p()(n),"submitCodeErrorHandler",(function(e){var t=n.props,a=t.t,o=t.showErrorToast,r=n.state.dockerInfo.isFrontendIDE,s="string"==typeof e?e:a("save_answer_error");r?(n.resetFooterButtons(),n.clearFrontendIDESubmitTimeout()):n.toggleSubmitCode(),o(s)})),_()(p()(n),"switchFooterTab",(function(e){switch(e){case G.s.TAB_TEST_HELP:case G.s.TAB_TEST_OUTPUT:n.setState({shouldAutoExpandTestCases:!0,selectedTab:e})}})),_()(p()(n),"onProjectResetSuccess",(function(){var e=n.props,t=e.t;(0,e.showToast)({type:"success",message:t("rba.reset_success"),icon:"ui-icon-check"}),n.showSwitchLoader(!1)})),_()(p()(n),"handleProjectReset",i()(r.a.mark((function e(){var t,a,o,s,i,c,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,o=t.attemptId,s=t.questionData.roleType,i=t.showToast,c=t.showErrorToast,l=n.state.dockerInfo.uniqueId,n.setState({selectedTab:G.s.TAB_NONE,showLoader:!0}),u=Object(U.j)(s),i({message:a("rba.reset_in_progress"),icon:"ui-icon-history",duration:u?0:M.e}),n.toggleResetProjectDialog(),e.prev=6,e.next=9,Object(Q.k)(o,l);case 9:u?setTimeout(n.onProjectResetSuccess,He):n.onProjectResetSuccess(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),c(a("rba.reset_failed"));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})))),_()(p()(n),"handleRebootIDE",i()(r.a.mark((function e(){var t,a,o,s,i,c,l,u,d,m,p,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,o=t.attemptId,s=t.questionId,i=t.getAttemptState,c=t.showToast,l=t.showErrorToast,u=n.state.dockerInfo,d=u.backend,m=u.uniqueId,n.toggleRebootIDEDialog(),c({message:a("rba.save_code_before_reboot"),icon:"ui-icon-loading",duration:0,closable:!1}),e.prev=4,e.next=7,Object(Q.g)({attemptId:o,questionId:s,workspaceUniqueId:m,backend:d});case 7:if(p=e.sent,b=p.behavior,p.error&&(l(a("rba.save_code_failed_ide_boot")),n.showRebootFailed(b)),!b){e.next=22;break}return n.setState({selectedTab:G.s.TAB_NONE,showLoader:!0,isIDEAvailable:!1},(function(){c({message:a("rba.".concat(b,"_in_progress")),icon:"ui-icon-loading",closable:!1})})),e.prev=12,e.next=15,Object(Q.j)({attemptId:o,questionId:s,workspaceUniqueId:m,backend:d,data:{behavior:b}});case 15:e.sent.error?n.showRebootFailed(b):(i(o),n.startRebootIDEPoll()),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),n.showRebootFailed(b);case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(4),l(a("rba.save_code_failed_ide_boot"));case 27:case"end":return e.stop()}}),e,null,[[4,24],[12,19]])})))),_()(p()(n),"renderBootFailedBlock",(function(){var e=n.props,t=e.questionId,a=e.testId,o=e.userEmail,r=e.t,s="mailto:support@hackerrank.com?Subject=".concat(encodeURI(r("rba.reboot_fail_email_subject",{userEmail:o,testId:a,questionId:t})));return y.a.createElement("span",null,y.a.createElement(k.b,{i18nKey:"rba.reboot_fail_support_text"},"Boot Failed! Please reach out to",y.a.createElement("a",{className:"rba-plain-link",href:s,target:"_blank"},"support@hackerrank.com")))})),_()(p()(n),"startRebootIDEPoll",(function(){var e=n.props,t=e.attemptId,a=e.questionId,o=e.getAttemptState,r=e.showToast,s=e.showErrorToast,i=n.state,c=i.showLoader,l=i.dockerInfo,u=l.backend,d=l.uniqueId,m=n.renderBootFailedBlock();Object(Q.c)({attemptId:t,questionId:a,workspaceUniqueId:d,backend:u}).then((function(e){var a=e.error,s=e.boot_status;s===G.l.BOOTED?(n.stopRebootIDEPoll(),o(t).then((function(){n.setState({showLoader:!1,isIDEAvailable:!0}),n.doKeyCloakLogin()}))):s===G.l.FAILED||a?(r({type:"error_strong",duration:0,message:m}),n.setState({bootFailed:!0,showLoader:!1}),n.stopRebootIDEPoll()):s===G.l.BOOTING&&(c||n.setState({showLoader:!0,isIDEAvailable:!1}),n.rebootIDEPollID=setTimeout((function(){return n.startRebootIDEPoll()}),We))})).catch((function(){s(m,0),n.setState({bootFailed:!0,showLoader:!1}),n.stopRebootIDEPoll()}))})),_()(p()(n),"handleCopy",(function(e,t){var a=n.props,o=a.t,r=a.showToast;t.preventDefault();var s=w()(e);r({type:s?"basic":"error",message:o(s?"rba.copied_to_clipboard":"rba.copy_failed_do_manual"),icon:"ui-icon-clipboard"})}));var o=e.t,s=e.questionData,c=Object(U.c)(s);n.rebootIDEPollID=null,n.runTestPollID=null;var u=c.isOffline?G.u.OFFLINE:G.u.ONLINE;return n.state=ze(ze({},Ke),{},{selectedMode:u,questionStatementPaneShrinked:!1,shouldAutoExpandTestCases:!1,isIDEAvailable:Object(U.c)(s,"available"),dockerInfo:c}),n.splitterProps={"aria-controls":"".concat(B.x.LEFT," ").concat(B.x.RIGHT),"aria-label":o("splitter.horizontal")},n.codesandboxRef=y.a.createRef(),n.toggleResetProjectDialog=n.toggleDialog.bind(p()(n),G.o.RESET_PROJECT),n.toggleRebootIDEDialog=n.toggleDialog.bind(p()(n),G.o.REBOOT_IDE),n.questionPaneSplitResize=n.onSplitSizeChange.bind(p()(n),G.z.QUESTION),n.testPaneSplitResize=n.onSplitSizeChange.bind(p()(n),G.z.TEST),n.questionPaneDragStart=n.onDragStart.bind(p()(n),G.z.QUESTION),n.testPaneDragStart=n.onDragStart.bind(p()(n),G.z.TEST),n.questionPaneDragEnd=n.onDragEnd.bind(p()(n),G.z.QUESTION),n.testPaneDragEnd=n.onDragEnd.bind(p()(n),G.z.TEST),n.switchToOnlineMode=n.toggleOnlineOfflineMode.bind(p()(n),G.u.ONLINE),n.switchToOfflineMode=n.toggleOnlineOfflineMode.bind(p()(n),G.u.OFFLINE),n.tourSteps=Object(K.a)({t:o}),n}return d()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.questionData,a=e.addCommand,n=e.t,o=this.state,r=o.dockerInfo,s=r.available,i=r.isFrontendIDE,c=o.selectedMode;i&&window.addEventListener("message",this.handleMessage,!1);var l=Object(U.j)(t.roleType);this.setState({selectedMode:l?G.u.ONLINE:c}),s||this.startRebootIDEPoll(),this.doKeyCloakLogin(),a(["mod","enter"],this.handleRunKey,{title:Object(F.i)("run_code",n),desc:n("actions.run_tests")})}},{key:"startTourAutomatically",value:function(){var e=this.props,t=e.attemptId,a=e.isSampleTest,n=e.onTourStart,o=e.questionData,r=Object(U.j)(o.roleType),s=Object(A.p)(t,z.d.FULLSTACK),i=!!L.a.get(s);!a||i||r||setTimeout((function(){n()}),G.y)}},{key:"componentDidUpdate",value:function(e){var t=e.questionData,a=this.props.questionData;R()(a,t)||this.setState({dockerInfo:Object(U.c)(a),isIDEAvailable:Object(U.c)(t,"available")})}},{key:"doKeyCloakLogin",value:function(){var e=this.props.attemptId,t=this.state.dockerInfo,a=t.userCredentials,n=t.backend,o=t.context,r=t.username;Object(q.j)()||!a||Object(U.i)(n)?this.setState({showLoader:!1},this.startTourAutomatically):function(e,t,a,n){Ae.apply(this,arguments)}(e,o,r,this.initializeCheAuth)}},{key:"componentWillUnmount",value:function(){this.stopRebootIDEPoll(),this.stopRunTestPoll(),(0,this.props.removeCommand)(["mod","enter"],this.handleRunKey),this.state.dockerInfo.isFrontendIDE&&(this.clearFrontendIDESubmitTimeout(),window.removeEventListener("message",this.handleMessage))}},{key:"submitFrontendIDETestResults",value:function(e){var t,a=this.props,n=a.questionId,o=a.questionData.type,r=a.saveAnswer,s=a.showErrorToast,i=a.t,c=this.state.dockerInfo.uniqueToken;try{t=Object(U.a)(JSON.stringify(e),c)}catch(e){return s(i("save_answer_error")),void this.resetFooterButtons()}r({qid:n,qtype:o,answer:{status:!0},testResults:t},this.submitCodeSuccessHandler,this.submitCodeErrorHandler)}},{key:"toggleOnlineOfflineMode",value:function(e){var t=this,a=this.props.attemptId,n=this.state.dockerInfo,o=n.uniqueId,r=n.dockerId,s=Object(U.k)(e);return s?Object(Q.i)(a,o).then((function(e){return e.exitCode===G.C?Object(Q.n)(a,r,s):(t.setState({errorOutput:e.log,shouldAutoExpandTestCases:!0,selectedTab:G.s.TAB_ERROR_OUTPUT}),Promise.reject("Push code to server failed"))})):Object(Q.h)(a,o).then((function(e){return e.exitCode===G.C?Object(Q.n)(a,r,s):Promise.reject("Pull code from server failed")}))}},{key:"clearFrontendIDESubmitTimeout",value:function(){this.frontendIDESubmitTimeout&&clearTimeout(this.frontendIDESubmitTimeout)}},{key:"stopRunTestPoll",value:function(){this.runTestPollID&&clearTimeout(this.runTestPollID)}},{key:"toggleSubmitCode",value:function(){this.setState({disableSubmitCode:!this.state.disableSubmitCode})}},{key:"showRebootFailed",value:function(e){var t=this.props,a=t.t;(0,t.showErrorToast)(a("rba.".concat(e,"_failed"))),this.setState({bootFailed:!0,showLoader:!1})}},{key:"stopRebootIDEPoll",value:function(){this.rebootIDEPollID&&clearTimeout(this.rebootIDEPollID)}},{key:"renderFrontendIDE",value:function(){var e=this.state.dockerInfo,t=e.remoteUrl,a=e.readonlyPaths,n=this.props.questionData.subType;return y.a.createElement(Be,{remoteUrl:t,iframeRef:this.codesandboxRef,subType:n,readonlyPaths:a})}},{key:"renderRBAQuestionRightPane",value:function(){var e=this.props,t=e.t,a=e.questionData,n=e.attemptId,o=e.showErrorToast,r=e.showToast,s=e.onTourStart,i=e.disableOnlineIDE,c=e.disableGit,l=this.state,u=l.dockerInfo,d=l.selectedMode,m=l.showLoader,p=l.showRebootIDEDialog,b=l.showResetProjectDialog;return y.a.createElement(Ie,{attemptId:n,t:t,isLoading:m,showToast:r,showErrorToast:o,questionData:a,dockerInfo:u,showLoader:this.showSwitchLoader,onProjectReset:this.handleProjectReset,onRebootIDE:this.handleRebootIDE,showRebootIDEDialog:p,showResetProjectDialog:b,toggleDialog:this.toggleDialog,selectedMode:d,handleCopy:this.handleCopy,handleChoiceToggle:this.handleChoiceToggle,onTourStart:s,disableOnlineIDE:i,disableGit:c})}},{key:"renderFooter",value:function(){var e=this.props,t=e.t,a=e.questionData.roleType,n=this.state,o=n.selectedTab,r=n.selectedMode,s=n.isIDEAvailable,i=n.disableSubmitCode,c=n.disableRunTestLoading,l=n.dockerInfo.isFrontendIDE,u=Object(U.j)(a),d=s&&!u,m=Object(U.l)(r);return y.a.createElement(te,{t:t,activeTab:o,showRunTest:d,onRunCode:this.runTests,onTabChange:this.switchFooterTab,onSubmitCode:this.handleSubmitCode,disableSubmitCode:i,isProcessing:c,disableRunCode:c,submitButtonText:t("actions.submit_code"),isOnlineMode:m,isFrontendIDE:l})}},{key:"renderFooterTabs",value:function(){var e=this.props.appUtil,t=this.state,a=t.dockerInfo,n=t.selectedMode,o=t.disableRunTestLoading,r=t.isIDEAvailable,s=t.runTestOutput,i=t.commandObject,c=t.selectedTab,l=t.runTestFailedOutput,u=t.errorOutput,d=t.errorTitle,m=a.username,p=a.backend,b=Object(U.l)(n),h=!Object(U.i)(p);return y.a.createElement(Re,{isIDEAvailable:r,selectedTab:c,appUtil:e,testCaseProps:this.memoizedTestTabProps(s,i,l,o),helpTabProps:this.memoizedHelpTabProps(b,h,m,a),errorTabProps:this.memoizedErrorTabProps(u,d)})}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.questionData,n=e.questionIds,o=e.disableGit,r=this.state,s=r.bootFailed,i=r.showLoader,c=r.isIDEAvailable,l=r.questionStatementPaneShrinked,u=r.shouldAutoExpandTestCases,d=r.showResizeOverlayView,m=r.shouldAutoCollapseIDEPane,p=r.selectedTab,b=r.dockerInfo,h=a.name,f=a.uniqueId,E=a.question,g=a.roleType,T=Object(U.j)(g),v=n.indexOf(f)+1,_=b.isFrontendIDE,k=c&&_,D=c&&!_;return y.a.createElement("div",{className:"base-question rba-question"},y.a.createElement(W.b,{"data-automation":"question-statement-pane",percentage:!0,primaryMinSize:4,secondaryInitialSize:70,secondaryMinSize:50,vertical:!1,onSecondaryPaneSizeChange:this.questionPaneSplitResize,onDragStart:this.questionPaneDragStart,onDragEnd:this.questionPaneDragEnd,shouldAutoCollapse:m,splitterClassName:"rba-question__main-splitter",splitterProps:this.splitterProps},y.a.createElement(V.a,{t:t,className:"base-question__left-pane",questionNumber:v,questionTitle:h,questionStatement:E,questionId:f,shrinked:l,onVerticalBarClick:this.onQuestionPaneVerticalBarClick},y.a.createElement(Ue,{t:t,disableGit:o,questionData:a}),y.a.createElement(Oe,{t:t,disableGit:o,dockerInfo:b,handleCopy:this.handleCopy})),y.a.createElement("div",{id:B.x.RIGHT,className:"d-flex flex-column base-question__right-pane"},y.a.createElement("div",{className:"d-flex rba-question__ide-area"},y.a.createElement(W.b,{"data-automation":"test-output-pane",className:"base-question__solution-split",vertical:!0,percentage:!0,primaryMinSize:50,secondaryInitialSize:0,onSecondaryPaneSizeChange:this.testPaneSplitResize,onDragStart:this.testPaneDragStart,onDragEnd:this.testPaneDragEnd,shouldAutoExpand:u},y.a.createElement(I.Fragment,null,D&&this.renderRBAQuestionRightPane(),k&&this.renderFrontendIDE(),!_&&y.a.createElement(Ne,{t:t,showLoader:i,bootFailed:s,isIDEAvailable:c,isJupyterIDE:T,renderBootFailedBlock:this.renderBootFailedBlock}),d&&function(e,t){return y.a.createElement("div",{className:N()("d-flex align-items-center justify-content-center resize-overlap rba",{jupyter:t})},e)}(t("rba.resizing_ide"),T),c&&this.renderFooter()),p!==G.s.TAB_NONE&&this.renderFooterTabs())))))}}]),a}(I.Component);function Ye(e){var t=e.candidate.attempt,a=e.user.email,n=e.test,o=n.uniqueId,r=n.isSampleTest;return{testId:o,userEmail:a,attemptId:t.id,isSampleTest:r,disableOnlineIDE:t.disableOnlineIDE,disableGit:t.disableGit}}var Xe=function(e){return{getAttemptState:function(t){return e(Object(J.getAttemptState)(t))}}};t.default=Object(O.a)(Object(D.connect)(Ye,Xe),x.a)(Ve)},RNzS:function(e,t,a){},SKv6:function(e,t,a){},Uw1d:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("0l/t"),a("bWfx");function n(e){var t=e.t;return[{selector:".invalid-element",key:"get_started"},{selector:".git-ux__clone-instructions-step1",key:"clone_git"},{selector:".rba-git-ux",key:"gitlist_push"},{selector:".rba-question-footer__run-code",key:"run_code"},{selector:".rba-question-footer__submit-code",key:"submit"}].filter((function(e){return!!e})).map((function(e){var a=e.selector,n=e.key;return{element:a,heading:t("question.rba.tour.step_".concat(n,".heading")),description:t("question.rba.tour.step_".concat(n,".content"))}}))}},WPSq:function(e,t,a){},"on/h":function(e,t,a){}}]);
//# sourceMappingURL=https://hrcdn.net/candidate-site/assets/sourcemaps/rba_question_view-7ad2f9b4.js.map